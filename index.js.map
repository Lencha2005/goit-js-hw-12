{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const creatGalleryCard = imgInfo => {\n    return `\n    <li class=\"gallery-card\">\n    <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n    <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" />\n    </a>\n    <ul class=\"list-info\">\n    <li class=\"item-info\">\n    <p class=\"item-text-info\">Likes</p>\n    <p class=\"item-text-value\">${imgInfo.likes}</p>\n    </li>\n    <li class=\"item-info\">\n    <p class=\"item-text-info\">Views</p>\n    <p class=\"item-text-value\">${imgInfo.views}</p>\n    </li>\n    <li class=\"item-info\">\n    <p class=\"item-text-info\">Comments</p>\n    <p class=\"item-text-value\">${imgInfo.comments}</p>\n    </li>\n    <li class=\"item-info\">\n    <p class=\"item-text-info\">Download</p>\n    <p class=\"item-text-value\">${imgInfo.downloads}</p>\n    </li>\n    </ul>\n    </li>`\n};","\n\nconst BASE_URL = 'https://pixabay.com/api/';\nexport const formSearchEl = document.querySelector('.js-form-search');\nexport const galleryList = document.querySelector('.list-gallery');\nexport const loader = document.querySelector('.js-loader');\n\nexport const fetchPhotos = inputValue => {\n    galleryList.innerHTML = '';\n    formSearchEl.reset();\n    loader.classList.toggle('is-hidden');\n    const urlParams = new URLSearchParams({\n        key:'45478018-6810a6814d3c626f27e622ce2',\n        q: inputValue,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\nreturn fetch(`${BASE_URL}?${urlParams}`)\n.then(response => {\n    if(!response.ok) {\n        throw new Error(response.status)\n    }\n    // console.dir(response.json());\n    return response.json() ;\n})\n}\n","import {creatGalleryCard} from './js/render-functions';\nimport {fetchPhotos, loader, galleryList, formSearchEl} from './js/pixabay-api';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nfunction onFormSearchSubmit(event){\nevent.preventDefault();\n\nconst inputValue = formSearchEl.elements.user_query.value.trim();\n\n\nfetchPhotos(inputValue)\n.then(data => {\n    // galleryList.innerHTML = '';\n    //     formSearchEl.reset();\n\n    if (data.hits.length === 0 || inputValue === ''){\n        iziToast.error({\n            title: 'Error',\n            position: 'topRight',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n\n        return;\n    };\n    \n    const galleryCardsTemplate = data.hits.map(img => creatGalleryCard(img)).join('');\n    galleryList.innerHTML = galleryCardsTemplate;\n\n    \n    lightbox.refresh();\n\n\n})\n.catch(err => console.log(err))\n.finally(() => {\n    loader.classList.toggle('is-hidden');\n});\n}\n\nformSearchEl.addEventListener('submit', onFormSearchSubmit);\n\nconst lightbox = new SimpleLightbox('.list-gallery a', { \n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n    overlayOpacity: 0.8\n});"],"names":["creatGalleryCard","imgInfo","BASE_URL","formSearchEl","galleryList","loader","fetchPhotos","inputValue","urlParams","response","onFormSearchSubmit","event","data","iziToast","galleryCardsTemplate","img","lightbox","err","SimpleLightbox"],"mappings":"6vBAAO,MAAMA,EAAmBC,GACrB;AAAA;AAAA,oCAEyBA,EAAQ,aAAa;AAAA,oCACrBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iCAK7CA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,iCAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,iCAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,iCAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA,WCnB5CC,EAAW,2BACJC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,YAAY,EAE5CC,EAAcC,GAAc,CACrCH,EAAY,UAAY,GACxBD,EAAa,MAAK,EAClBE,EAAO,UAAU,OAAO,WAAW,EACnC,MAAMG,EAAY,IAAI,gBAAgB,CAClC,IAAI,qCACJ,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAEL,OAAO,MAAM,GAAGL,CAAQ,IAAIM,CAAS,EAAE,EACtC,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MACpB,CAAC,CACD,ECnBA,SAASC,EAAmBC,EAAM,CAClCA,EAAM,eAAc,EAEpB,MAAMJ,EAAaJ,EAAa,SAAS,WAAW,MAAM,KAAI,EAG9DG,EAAYC,CAAU,EACrB,KAAKK,GAAQ,CAIV,GAAIA,EAAK,KAAK,SAAW,GAAKL,IAAe,GAAG,CAC5CM,EAAS,MAAM,CACX,MAAO,QACP,SAAU,WACV,QAAS,0EACrB,CAAS,EAED,MAER,CACI,MAAMC,EAAuBF,EAAK,KAAK,IAAIG,GAAOf,EAAiBe,CAAG,CAAC,EAAE,KAAK,EAAE,EAChFX,EAAY,UAAYU,EAGxBE,EAAS,QAAO,CAGpB,CAAC,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAC7B,QAAQ,IAAM,CACXZ,EAAO,UAAU,OAAO,WAAW,CACvC,CAAC,CACD,CAEAF,EAAa,iBAAiB,SAAUO,CAAkB,EAE1D,MAAMM,EAAW,IAAIE,EAAe,kBAAmB,CACnD,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,EACpB,CAAC"}